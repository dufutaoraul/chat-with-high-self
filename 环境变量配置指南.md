# 环境变量配置指南

## 步骤1：创建环境变量文件

1. 在项目根目录下，复制 `.env.local.example` 文件
2. 重命名为 `.env.local`
3. 这个文件包含了所有敏感信息，不会被提交到 Git

## 步骤2：配置 Supabase（已完成）

你的 Supabase 配置已经填好了：

```
NEXT_PUBLIC_SUPABASE_URL=https://cpcmbkikqftxaxjgedlm.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwY21ia2lrcWZ0eGF4amdlZGxtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0MzI5NTYsImV4cCI6MjA3MTAwODk1Nn0.5C5YgM63q1YMrlslZGomtT4H59CmA8J5jVgD9LFTPtM
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwY21ia2lrcWZ0eGF4amdlZGxtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTQzMjk1NiwiZXhwIjoyMDcxMDA4OTU2fQ.am-FIJobFiGgtjkvpIYb6h7piWs5zH6-VG6khFSncKY
```

## 步骤3：配置 Gemini API（已完成）

你的 Gemini API 配置已经填好了：

```
GEMINI_API_KEY=AIzaSyBpxjFCkR_sesDOdez-521AzePErXBb6pY
GEMINI_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent
```

## 步骤4：配置应用 URL

```
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

开发环境使用 localhost:3000，部署后改为你的域名。

## 步骤5：配置 Zpay（暂时跳过）

支付功能暂时可以跳过，先测试其他功能：

```
ZPAY_PID=your_zpay_pid
ZPAY_KEY=your_zpay_key
```

## 完整的 .env.local 文件内容

创建 `.env.local` 文件，内容如下：

```
# Supabase 配置
NEXT_PUBLIC_SUPABASE_URL=https://cpcmbkikqftxaxjgedlm.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwY21ia2lrcWZ0eGF4amdlZGxtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0MzI5NTYsImV4cCI6MjA3MTAwODk1Nn0.5C5YgM63q1YMrlslZGomtT4H59CmA8J5jVgD9LFTPtM
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwY21ia2lrcWZ0eGF4amdlZGxtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTQzMjk1NiwiZXhwIjoyMDcxMDA4OTU2fQ.am-FIJobFiGgtjkvpIYb6h7piWs5zH6-VG6khFSncKY

# 应用配置
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Zpay 配置（暂时留空，后续配置）
ZPAY_PID=your_zpay_pid
ZPAY_KEY=your_zpay_key

# Gemini API 配置
GEMINI_API_KEY=AIzaSyBpxjFCkR_sesDOdez-521AzePErXBb6pY
GEMINI_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent
```

## 下一步操作

1. **创建 .env.local 文件**（复制上面的内容）
2. **设置 Supabase 数据库**（执行 lib/database.sql 中的 SQL）
3. **安装依赖并启动项目**：
   ```bash
   npm install
   npm run dev
   ```

## 注意事项

- `.env.local` 文件不要提交到 Git
- 所有以 `NEXT_PUBLIC_` 开头的变量会暴露给前端
- 其他变量只在服务端可用
- 修改环境变量后需要重启开发服务器