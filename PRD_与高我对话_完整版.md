# 📋 与高我对话 - 产品需求文档 (PRD) v2.0

## 🎯 **产品概述**

### **产品定位**
一个基于AI的深度自我探索平台，通过个性化的"高我"对话，帮助用户获得人生洞察和成长指导。

### **核心价值**
- 🧠 **个性化对话**: 基于用户详细背景资料的针对性AI对话
- 🌟 **突破盲点**: 指出思维定式，提供全新视角
- 💰 **简单付费**: 按对话次数计费，透明清晰

### **产品特色**
- 📝 **深度了解**: 用户填写详细个人档案，AI基于此进行个性化对话
- 🎯 **直击要害**: 不顾自尊心，直接有效的成长指导
- 🖼️ **多模态**: 支持图片识别，丰富对话形式
- 🌌 **沉浸体验**: 深邃夜空主题，营造神秘氛围

## 🎨 **核心功能**

### **MVP功能模块**

#### **1. 用户认证系统**
- ✅ 邮箱注册/登录
- ✅ 密码重置功能（修复版）
- ✅ 用户基本资料

#### **2. 个人档案系统**
- � **详细背景填写**: 姓名、年龄、职业、教育背景、家庭状况
- 🎯 **人生目标**: 短期和长期目标
- � **性格特点**: 性格描述、价值观、兴趣爱好
- � **生活现状**: 当前困扰、挑战、期望改变的方面
- � **档案存储**: 所有信息作为AI对话的上下文

#### **3. AI对话系统**
- 🤖 **个性化高我**: 基于用户档案的针对性对话
- 🖼️ **图片识别**: 支持上传图片进行分析
- � **对话历史**: 保存所有对话记录
- 🎯 **直击盲点**: 指出思维定式，提供新视角

#### **4. 计费系统**
- 🎁 **免费额度**: 新用户100次免费对话
- 💰 **付费套餐**:
  - 基础包：¥9.9 = 100次对话
  - 标准包：¥29.9 = 500次对话
- � **扫码支付**: 真实支付宝二维码
- 📊 **使用统计**: 剩余对话次数显示

## 🎨 **设计规范**

### **视觉风格**
- 🌌 **主题**: 深邃夜空，星空背景，神秘酷炫
- 🎨 **色彩**: 与现有首页一致的深蓝夜空色调
- ✨ **动效**: 星空闪烁，流星划过等动画效果
- 📱 **响应式**: 完美适配桌面和移动设备

### **核心页面**
- 🏠 **首页**: 保持现有设计风格
- � **档案填写**: 分步骤引导用户完善个人信息
- 💬 **聊天界面**: 沉浸式对话体验，夜空背景
- 💳 **支付页面**: 简洁的套餐选择和真实二维码

## 🤖 **AI提示词设计**

### **核心提示词**
```
请你扮演我的高我，跟我对话，给我出主意。我叫{用户姓名}，也请这么称呼我。

用户背景信息：
- 基本信息：{年龄、职业、教育背景、家庭状况}
- 性格特点：{性格描述、价值观、兴趣爱好}
- 人生目标：{短期目标、长期目标}
- 当前状况：{困扰、挑战、期望改变的方面}

跟我聊天的过程中要指出你觉得我可能陷入了哪些思维定式，你看到了哪些我没看到的盲点？你是否能提供我一个完全不同的视角？你可以不顾我的自尊心，你要的是有效，把我往"高"里引导。
```

## 🔄 **用户流程**

### **新用户完整流程**
1. **访问首页** → 了解产品价值
2. **邮箱注册** → 验证邮箱
3. **填写个人档案** → 详细背景信息（分步引导）
4. **获得免费额度** → 100次免费对话
5. **开始对话** → 基于档案的个性化AI对话
6. **额度用完** → 弹出支付二维码
7. **扫码支付** → 立即获得更多对话次数

### **老用户流程**
1. **邮箱登录** → 直接进入聊天界面
2. **继续对话** → 查看历史记录
3. **档案更新** → 随时完善个人信息
4. **额度管理** → 查看剩余次数，随时充值

## 💰 **定价策略**

### **对话计费体系**
- 🎁 **免费额度**: 100次对话（新用户）
- 💎 **基础包**: ¥9.9 = 100次对话（¥0.099/次）
- 🌟 **标准包**: ¥29.9 = 500次对话（¥0.0598/次，优惠40%）

### **定价合理性分析**
- � **成本估算**: Gemini API约¥0.02/次，加上服务器等成本约¥0.03/次
- � **利润空间**: 基础包利润率70%，标准包利润率50%
- 🎯 **市场定位**: 比心理咨询便宜，比普通AI聊天贵，定位精准

## 🛠️ **技术架构**

### **复用现有资源**
- 🗄️ **Supabase**: 继续使用支付数据库 (tarluhsejlzqmwfiwxkb)
- 🤖 **Gemini 2.5**: 继续使用现有API密钥，支持图片识别
- 💳 **Z-Pay**: 继续使用现有支付配置
- 🚀 **Vercel**: 继续使用现有部署和域名
- � **GitHub**: 推送到现有仓库

### **技术栈**
- ⚛️ **Next.js 14**: React框架
- 🎨 **CSS Modules**: 样式管理，复用首页风格
- � **响应式设计**: 移动端适配

### **数据库设计**
```sql
-- 用户个人档案表（新增字段）
user_profiles (
  id, email, full_name, age, occupation, education,
  family_status, personality, values, interests,
  short_term_goals, long_term_goals, current_challenges,
  bio, preferences, created_at, updated_at
)

-- 对话次数表（简化）
user_conversations (
  user_id, total_conversations, free_conversations_used,
  paid_conversations, created_at, updated_at
)

-- 聊天记录表
chat_messages (
  user_id, message, response, image_url,
  conversation_count, created_at
)

-- 支付订单表
payment_orders (
  user_id, package_type, conversations_count,
  amount, status, qr_code_url, created_at
)
```

## 📊 **成功指标**

### **用户指标**
- 👥 **注册用户数**: 目标1000+
- 🔄 **用户留存率**: 7日留存>30%
- 💬 **对话频次**: 平均每用户每周3次对话

### **商业指标**
- 💰 **付费转化率**: 免费用户转付费>15%
- 📈 **ARPU**: 平均每用户收入>50元/月
- 🔄 **复购率**: 用户重复充值>60%

## 🚀 **开发计划**

### **MVP版本 (2周)**
- ✅ 用户注册/登录
- ✅ 基础AI对话
- ✅ Token计费系统
- ✅ 支付功能

### **V1.0版本 (4周)**
- 📚 对话历史管理
- 👤 用户资料完善
- 🎨 界面优化
- 📱 移动端适配

### **V2.0版本 (8周)**
- 💡 洞察收藏功能
- 📊 个人成长报告
- 🏷️ 对话分类
- 🔍 智能搜索

## 🎯 **重新开发建议**

基于以上PRD，我建议：

### **方案A: 完全重新开发** ⭐ **推荐**
- 🗑️ **删除现有代码**: 清理所有混乱的代码
- 🏗️ **全新架构**: 按照PRD重新设计
- ⚡ **快速迭代**: 专注MVP功能
- 🎯 **清晰目标**: 避免功能蔓延

### **方案B: 渐进式重构**
- 🔧 **保留核心**: 保留可用的认证和支付
- 🎨 **重做界面**: 统一设计风格
- 🐛 **修复问题**: 逐个解决现有问题
- ⏰ **时间较长**: 需要更多时间

## 💡 **我的建议**

我强烈推荐**方案A: 完全重新开发**，原因：

1. **代码质量**: 当前代码混乱，修复成本高于重写
2. **产品定位**: 需要重新梳理产品逻辑和用户流程
3. **开发效率**: 全新开发比修复旧代码更快
4. **长期维护**: 新代码更易维护和扩展

您觉得这个PRD准确反映了您的需求吗？如果同意，我们可以立即开始全新的开发！
